# Dobble Card Generator

Приложение для генерации оптимальных карт в стиле игры Dobble (Spot It!). Программа автоматически рассчитывает необходимое количество символов и создает максимальный набор карт, где любые две карты имеют ровно одно общее изображение.

## Описание

Dobble - это популярная карточная игра, где каждая карта содержит несколько символов (изображений), и любые две карты имеют ровно один общий символ. Это приложение использует математические принципы проективных плоскостей для генерации идеальных наборов карт.

## Новая упрощенная логика

**Ввод:** Только количество изображений на одной карте
**Вывод:** Автоматически рассчитанное оптимальное количество символов и полный набор карт

### Математическая формула

Для **n** изображений на карте (где **q = n-1**):

-   **Всего символов = q² + q + 1**
-   **Всего карт = q² + q + 1**
-   **Каждый символ встречается ровно n раз**

## Поддерживаемые значения

| Изображений на карте | Всего символов | Всего карт | Примечание                |
| -------------------- | -------------- | ---------- | ------------------------- |
| 2                    | 3              | 3          | Базовый случай            |
| 3                    | 7              | 7          | Классический Dobble       |
| 4                    | 13             | 13         | Оптимальный               |
| 5                    | 21             | 21         | Оптимальный               |
| 6                    | 31             | 31         | Оптимальный               |
| 7                    | 43             | 43         | Оптимальный               |
| 8                    | 57             | 57         | Как в оригинальном Dobble |
| 9                    | 73             | 73         | Оптимальный               |

## Функциональность

-   **Упрощенный ввод** - только одно поле (количество изображений на карте)
-   **Автоматический расчет** - приложение само определяет оптимальное количество символов
-   **Математически точная генерация** - использует алгоритм проективных плоскостей
-   **Проверка корректности** - валидация всех сгенерированных карт
-   **Подробная информация** - показывает математические формулы и объяснения

## Как использовать

1. Запустите `dobble-generator.exe`
2. Введите количество изображений на одной карте (например: 3, 4, 8)
3. Нажмите кнопку "Генерировать карты"
4. Приложение покажет:
    - Сколько всего нужно символов
    - Сколько карт будет сгенерировано
    - Список всех карт с их содержимым
    - Математическое обоснование

## Примеры использования

### Пример 1: Классический случай

-   **Ввод:** 3 изображения на карте
-   **Результат:** 7 символов, 7 карт
-   **Карты:** [1,2,3], [1,4,5], [1,6,7], [2,4,6], [2,5,7], [3,4,7], [3,5,6]

### Пример 2: Как в оригинальном Dobble

-   **Ввод:** 8 изображений на карте
-   **Результат:** 57 символов, 57 карт
-   **Использование:** Полный набор как в коммерческой игре

## Математические основы

Приложение основано на теории **проективных плоскостей порядка q**, где:

-   Проективная плоскость существует, если **q** является степенью простого числа
-   Для **q = p^k** (где p - простое, k ≥ 1) можно построить идеальный набор карт
-   Каждая точка (символ) лежит на ровно **q+1** прямых (картах)
-   Любые две прямые (карты) пересекаются ровно в одной точке (символе)

### Ограничения

Идеальные наборы возможны только когда **(n-1)** является степенью простого числа:

-   ✅ **n=2**: q=1 (тривиальный случай)
-   ✅ **n=3**: q=2 (простое число)
-   ✅ **n=4**: q=3 (простое число)
-   ✅ **n=5**: q=4=2² (степень простого)
-   ❌ **n=7**: q=6 (не степень простого)
-   ✅ **n=8**: q=7 (простое число)

## Алгоритм генерации

Используется классический алгоритм построения проективной плоскости:

1. **Первая карта:** содержит символы [1, 2, ..., n]
2. **Следующие q карт:** каждая содержит символ 1 и q новых символов
3. **Остальные q² карт:** строятся по формуле проективной геометрии

## Технические детали

-   **Язык:** Go
-   **GUI библиотека:** Fyne
-   **Платформа:** Windows
-   **Алгоритм:** Проективная плоскость + специальные случаи
-   **Проверка корректности:** Полная валидация всех пар карт

## Сборка из исходного кода

```bash
go mod tidy
go build -o dobble-generator.exe
```

## Требования

-   Windows 10 или выше
-   Для сборки: Go 1.21 или выше

## Ограничения

-   **Максимум 20 изображений на карте** - для оптимальной производительности
-   Работает только для значений где (n-1) является степенью простого числа
-   Для неподдерживаемых значений показывает объяснение причины

## Преимущества новой версии

1. **Простота использования** - только одно поле ввода
2. **Математическая точность** - всегда оптимальный результат
3. **Образовательная ценность** - показывает математические принципы
4. **Автоматизация** - не нужно угадывать количество символов
5. **Проверка корректности** - гарантирует правильность результата
